[{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\api\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\components\\CredibilityBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\components\\FetchModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\components\\Layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\components\\PaperCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\components\\PdfUpload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\components\\StatusBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\contexts\\BrandingContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":51,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":51,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, useState } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { settingsApi } from '../api/client'\r\n\r\nexport interface Branding {\r\n  app_name: string\r\n  tagline: string\r\n  primary_color: string\r\n  secondary_color: string\r\n  newsletter_title: string\r\n  footer_text: string\r\n  item_terminology: string\r\n  item_terminology_plural: string\r\n}\r\n\r\nexport interface Domain {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  icon: string\r\n  primary_color: string\r\n}\r\n\r\ninterface BrandingContextType {\r\n  branding: Branding | null\r\n  domains: Domain[]\r\n  activeDomainId: string | null\r\n  isLoading: boolean\r\n  setActiveDomain: (domainId: string) => Promise<void>\r\n}\r\n\r\nconst defaultBranding: Branding = {\r\n  app_name: 'Science Digest',\r\n  tagline: 'Your daily dose of scientific discovery',\r\n  primary_color: '#0984e3',\r\n  secondary_color: '#6c5ce7',\r\n  newsletter_title: 'Science Digest Newsletter',\r\n  footer_text: 'Stay curious!',\r\n  item_terminology: 'paper',\r\n  item_terminology_plural: 'papers',\r\n}\r\n\r\nconst BrandingContext = createContext<BrandingContextType>({\r\n  branding: defaultBranding,\r\n  domains: [],\r\n  activeDomainId: null,\r\n  isLoading: true,\r\n  setActiveDomain: async () => {},\r\n})\r\n\r\nexport const useBranding = () => useContext(BrandingContext)\r\n\r\nexport const BrandingProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const queryClient = useQueryClient()\r\n  const [activeDomainId, setActiveDomainId] = useState<string | null>(null)\r\n\r\n  // Fetch current branding\r\n  const { data: brandingData, isLoading: brandingLoading } = useQuery({\r\n    queryKey: ['branding'],\r\n    queryFn: async () => {\r\n      const response = await settingsApi.getBranding()\r\n      return response.data as Branding & { domain_id: string }\r\n    },\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  })\r\n\r\n  // Fetch available domains\r\n  const { data: domainsData, isLoading: domainsLoading } = useQuery({\r\n    queryKey: ['domains'],\r\n    queryFn: async () => {\r\n      const response = await settingsApi.getDomains()\r\n      return response.data.domains as Domain[]\r\n    },\r\n    staleTime: 10 * 60 * 1000, // 10 minutes\r\n  })\r\n\r\n  // Set active domain mutation\r\n  const setDomainMutation = useMutation({\r\n    mutationFn: async (domainId: string) => {\r\n      await settingsApi.setActiveDomain(domainId)\r\n      return domainId\r\n    },\r\n    onSuccess: () => {\r\n      // Invalidate branding to refetch with new domain\r\n      queryClient.invalidateQueries({ queryKey: ['branding'] })\r\n    },\r\n  })\r\n\r\n  // Update activeDomainId when branding loads\r\n  useEffect(() => {\r\n    if (brandingData && 'domain_id' in brandingData) {\r\n      setActiveDomainId(brandingData.domain_id)\r\n    }\r\n  }, [brandingData])\r\n\r\n  const handleSetActiveDomain = async (domainId: string) => {\r\n    await setDomainMutation.mutateAsync(domainId)\r\n    setActiveDomainId(domainId)\r\n  }\r\n\r\n  // Apply primary color as CSS variable\r\n  useEffect(() => {\r\n    if (brandingData?.primary_color) {\r\n      document.documentElement.style.setProperty('--primary-color', brandingData.primary_color)\r\n      document.documentElement.style.setProperty('--secondary-color', brandingData.secondary_color || '#6c5ce7')\r\n    }\r\n  }, [brandingData])\r\n\r\n  const value: BrandingContextType = {\r\n    branding: brandingData || defaultBranding,\r\n    domains: domainsData || [],\r\n    activeDomainId,\r\n    isLoading: brandingLoading || domainsLoading,\r\n    setActiveDomain: handleSetActiveDomain,\r\n  }\r\n\r\n  return (\r\n    <BrandingContext.Provider value={value}>\r\n      {children}\r\n    </BrandingContext.Provider>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\DigestDetail.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Digests.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Fetch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\LivePulse.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\NewsletterEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Newsletters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Papers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Schedules.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Settings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\pages\\Sources.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\PPT NEWS FEED\\frontend\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]